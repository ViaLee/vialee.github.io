<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack | ğŸ’«Viaã®blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/babe.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.795a5f26.css" as="style"><link rel="preload" href="/assets/js/app.1a8c5bfd.js" as="script"><link rel="preload" href="/assets/js/2.dec9ee96.js" as="script"><link rel="preload" href="/assets/js/13.0b29cc16.js" as="script"><link rel="prefetch" href="/assets/js/10.8be9e924.js"><link rel="prefetch" href="/assets/js/11.44f5bc5a.js"><link rel="prefetch" href="/assets/js/12.13eb32e8.js"><link rel="prefetch" href="/assets/js/14.a078733b.js"><link rel="prefetch" href="/assets/js/15.11a9ccdf.js"><link rel="prefetch" href="/assets/js/16.a2c3d2a9.js"><link rel="prefetch" href="/assets/js/17.980f556f.js"><link rel="prefetch" href="/assets/js/18.cea60c17.js"><link rel="prefetch" href="/assets/js/19.a727f28e.js"><link rel="prefetch" href="/assets/js/20.023d0896.js"><link rel="prefetch" href="/assets/js/21.fbabcbd6.js"><link rel="prefetch" href="/assets/js/22.13927ea0.js"><link rel="prefetch" href="/assets/js/23.a9bc2c2a.js"><link rel="prefetch" href="/assets/js/24.32925ff2.js"><link rel="prefetch" href="/assets/js/25.7aa0e1ed.js"><link rel="prefetch" href="/assets/js/26.ca27a143.js"><link rel="prefetch" href="/assets/js/27.8d248508.js"><link rel="prefetch" href="/assets/js/28.6d467f80.js"><link rel="prefetch" href="/assets/js/29.d0462958.js"><link rel="prefetch" href="/assets/js/3.425531bf.js"><link rel="prefetch" href="/assets/js/30.8b05a0c2.js"><link rel="prefetch" href="/assets/js/31.7b9ee93d.js"><link rel="prefetch" href="/assets/js/32.309cfa25.js"><link rel="prefetch" href="/assets/js/33.11c2341a.js"><link rel="prefetch" href="/assets/js/4.c0667068.js"><link rel="prefetch" href="/assets/js/5.cd04caea.js"><link rel="prefetch" href="/assets/js/6.22a02351.js"><link rel="prefetch" href="/assets/js/7.3a87c63c.js"><link rel="prefetch" href="/assets/js/8.7771a382.js"><link rel="prefetch" href="/assets/js/9.167ee458.js">
    <link rel="stylesheet" href="/assets/css/0.styles.795a5f26.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/babe.png" alt="ğŸ’«Viaã®blog" class="logo"> <span class="site-name can-hide">ğŸ’«Viaã®blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ReactğŸŒ´" class="dropdown-title"><span class="title">ReactğŸŒ´</span> <span class="arrow down"></span></button> <button type="button" aria-label="ReactğŸŒ´" class="mobile-dropdown-title"><span class="title">ReactğŸŒ´</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/reactCode.html" class="nav-link">
  åº•å±‚
</a></li><li class="dropdown-item"><!----> <a href="/pages/react.html" class="nav-link">
  å…¶ä»–
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Basic ğŸ³" class="dropdown-title"><span class="title">Basic ğŸ³</span> <span class="arrow down"></span></button> <button type="button" aria-label="Basic ğŸ³" class="mobile-dropdown-title"><span class="title">Basic ğŸ³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/javascript.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/pages/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/pages/webpack.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/pages/flutter.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web ğŸŒ" class="dropdown-title"><span class="title">Web ğŸŒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web ğŸŒ" class="mobile-dropdown-title"><span class="title">Web ğŸŒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/http.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/pages/browser.html" class="nav-link">
  æµè§ˆå™¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node â˜ï¸" class="dropdown-title"><span class="title">Node â˜ï¸</span> <span class="arrow down"></span></button> <button type="button" aria-label="Node â˜ï¸" class="mobile-dropdown-title"><span class="title">Node â˜ï¸</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/node.html" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/pages/nest.html" class="nav-link">
  nest
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog âœğŸ»" class="dropdown-title"><span class="title">Blog âœğŸ»</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog âœğŸ»" class="mobile-dropdown-title"><span class="title">Blog âœğŸ»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/log.html" class="nav-link">
  æ—¥å¸¸è®°å½•
</a></li><li class="dropdown-item"><!----> <a href="/pages/blog.html" class="nav-link">
  åšå®¢
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ReactğŸŒ´" class="dropdown-title"><span class="title">ReactğŸŒ´</span> <span class="arrow down"></span></button> <button type="button" aria-label="ReactğŸŒ´" class="mobile-dropdown-title"><span class="title">ReactğŸŒ´</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/reactCode.html" class="nav-link">
  åº•å±‚
</a></li><li class="dropdown-item"><!----> <a href="/pages/react.html" class="nav-link">
  å…¶ä»–
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Basic ğŸ³" class="dropdown-title"><span class="title">Basic ğŸ³</span> <span class="arrow down"></span></button> <button type="button" aria-label="Basic ğŸ³" class="mobile-dropdown-title"><span class="title">Basic ğŸ³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/javascript.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/pages/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/pages/webpack.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/pages/flutter.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web ğŸŒ" class="dropdown-title"><span class="title">Web ğŸŒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web ğŸŒ" class="mobile-dropdown-title"><span class="title">Web ğŸŒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/http.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/pages/browser.html" class="nav-link">
  æµè§ˆå™¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node â˜ï¸" class="dropdown-title"><span class="title">Node â˜ï¸</span> <span class="arrow down"></span></button> <button type="button" aria-label="Node â˜ï¸" class="mobile-dropdown-title"><span class="title">Node â˜ï¸</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/node.html" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/pages/nest.html" class="nav-link">
  nest
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog âœğŸ»" class="dropdown-title"><span class="title">Blog âœğŸ»</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog âœğŸ»" class="mobile-dropdown-title"><span class="title">Blog âœğŸ»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/log.html" class="nav-link">
  æ—¥å¸¸è®°å½•
</a></li><li class="dropdown-item"><!----> <a href="/pages/blog.html" class="nav-link">
  åšå®¢
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/webpack.html#module" class="sidebar-link">module</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/webpack.html#chunk-å’Œ-bundle" class="sidebar-link">chunk å’Œ bundle</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/webpack.html#é…ç½®" class="sidebar-link">é…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/webpack.html#path-å’Œ-publicpath" class="sidebar-link">path å’Œ publicPath</a></li></ul></li><li><a href="/pages/webpack.html#loader-å’Œ-plugin" class="sidebar-link">loader å’Œ plugin</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/webpack.html#æ‰“åŒ…æµç¨‹" class="sidebar-link">æ‰“åŒ…æµç¨‹</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/webpack.html#split-chunks" class="sidebar-link">Split Chunks</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/webpack.html#tree-shaking" class="sidebar-link">Tree Shaking</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/webpack.html#dce" class="sidebar-link">DCE</a></li><li class="sidebar-sub-header"><a href="/pages/webpack.html#å¦‚ä½•é…ç½®" class="sidebar-link">å¦‚ä½•é…ç½®</a></li></ul></li><li><a href="/pages/webpack.html#æ‰§è¡Œé¡ºåºé…ç½®" class="sidebar-link">æ‰§è¡Œé¡ºåºé…ç½®</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/webpack.html#å„ç§-babel-åŒ…" class="sidebar-link">å„ç§ babel åŒ…</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h1> <p>æœ¬è´¨æ˜¯ä¸€ä¸ªç°ä»£ js åº”ç”¨ç¨‹åºé™æ€æ¨¡å—æ‰“åŒ…å™¨ï¼Œå½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œä¼šé€’å½’çš„åˆ›å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾ï¼ŒåŒ…å«éœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œå°†æ‰€æœ‰æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚</p> <h2 id="module"><a href="#module" class="header-anchor">#</a> module</h2> <p>ESModuleï¼ŒcommenJsï¼ŒAMDï¼ŒAssets<br> <code>ES6 module</code> ç‰¹ç‚¹ï¼š</p> <ul><li>åªèƒ½ä½œä¸ºæ¨¡å—é¡¶å±‚çš„è¯­å¥å‡ºç°</li> <li>import çš„æ¨¡å—ååªèƒ½æ˜¯å­—ç¬¦ä¸²å¸¸é‡</li> <li>import binding æ˜¯ immutable çš„</li></ul> <p><strong>å¼•å…¥æ–¹å¼</strong>ï¼š<br> <strong><code>ESModule</code></strong>ï¼šexportï¼Œimport(import a from 'a' å¼•å…¥çš„æ˜¯ a[default])<br> <strong><code>commenJs</code></strong>ï¼šmodule.exportsï¼Œrequire(import çš„æ˜¯æ•´ä¸ª module)</p> <h2 id="chunk-å’Œ-bundle"><a href="#chunk-å’Œ-bundle" class="header-anchor">#</a> chunk å’Œ bundle</h2> <p><strong><code>chunk</code></strong>: æ‰“åŒ…è¿‡ç¨‹ä¸­ modules çš„é›†åˆ
ä»å…¥å£æ¨¡å—å¼€å§‹ï¼Œå¼•å…¥å…¶ä»–æ¨¡å—...é€šè¿‡å¼•å…¥å…³ç³»é€ä¸ªæ‰“åŒ…ï¼Œè¿™äº› module å°±å½¢æˆäº†ä¸€ä¸ª chunkã€‚<br>
å¦‚æœæœ‰å¤šä¸ªå…¥å£ï¼Œä¼šäº§å‡ºå¤šæ¡æ‰“åŒ…è·¯å¾„ï¼Œæ¯æ¡è·¯å¾„ä¼šå½¢æˆä¸€ä¸ª chunkã€‚<br> <strong><code>bundle</code></strong>ï¼šæœ€ç»ˆè¾“å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªæ‰“åŒ…å¥½çš„æ–‡ä»¶<br> <strong>chunk å’Œ bundle çš„å…³ç³»</strong>ï¼š<br>
å¤§å¤šæ•°æƒ…å†µ ä¸€ä¸ª chunk ä¼šäº§ç”Ÿä¸€ä¸ª bundleï¼Œä½†æ˜¯æœ‰ä¾‹å¤–</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">//å…¥å£æ–‡ä»¶</span>
    <span class="token comment">//index: ['./src/index.js','./src/add.js']   //å¤šä¸ªå…¥å£ï¼Œä¸€ä¸ªchunk</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/*
  entry:{  //å¤šä¸ªchunk
    index: './src/index.js'    
    common:'./src/common.js'
  },
  */</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è¾“å‡ºbundleçš„æ–‡ä»¶å</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;source-map&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è¾“å‡ºæºä»£ç </span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="é…ç½®"><a href="#é…ç½®" class="header-anchor">#</a> é…ç½®</h2> <h3 id="path-å’Œ-publicpath"><a href="#path-å’Œ-publicpath" class="header-anchor">#</a> path å’Œ publicPath</h3> <p>åŒºåˆ«ï¼š<br>
path: è¾“å‡ºæ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œå¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼ˆä½¿ç”¨ Node.js çš„ path æ¨¡å—ï¼‰<br>
publicPath: è¯»å–æ–‡ä»¶ç›®å½•ï¼Œurl ç›¸å¯¹äº HTML é¡µé¢ã€‚å¸¸ç”¨æ¥è®¾ç½®èµ„æºè¯·æ±‚å‰ç¼€ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].bundle.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&quot;dist/&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="loader-å’Œ-plugin"><a href="#loader-å’Œ-plugin" class="header-anchor">#</a> loader å’Œ plugin</h2> <p><strong><code>loader</code></strong>ï¼šæ¨¡å—è½¬æ¢å™¨ã€‚<br>
webpack è‡ªèº«åªæ”¯æŒ js å’Œ json è¿™ä¸¤ç§æ ¼å¼çš„æ–‡ä»¶ã€‚loader å°†é js æ¨¡å—è½¬åŒ–ä¸º webpack èƒ½è¯†åˆ«çš„ js æ¨¡å—ï¼Œå¦‚å°† A.less è½¬æ¢ä¸º A.cssã€‚<br>
loader åˆ†ä¸ºï¼špre,normal,inline,post(normal æ‰§è¡Œé¡ºåº)<br>
å†…è” loader å‰ç¼€ï¼š!è·³è¿‡ normalï¼Œ-!è·³è¿‡ pre/normalï¼Œ!!è·³è¿‡ pre,normal,post loaderã€‚<br>
loader å¦‚æœæœ‰ pitch æ–¹æ³•ï¼Œåˆ™å…ˆæŒ‰é¡ºåºæ‰§è¡Œ pitch æ–¹æ³•ï¼Œpitch å¦‚æœæœ‰è¿”å›å€¼ï¼Œåˆ™ä¼šæ‰“æ–­é¡ºåºæ‰§è¡Œï¼Œç›´æ¥æ‰§è¡Œè¯¥ loader çš„å‰ä¸€ä¸ª loaderï¼Œå¹¶å‘å‰æ‰§è¡Œã€‚
<img src="/assets/img/loader.c26caff3.png" alt="loader">
loader çš„æ‰§è¡Œé¡ºåºå’Œé…ç½®ä¸­çš„é¡ºåºæ˜¯ç›¸åçš„ï¼Œå³æœ€åä¸€ä¸ª loader æœ€å…ˆæ‰§è¡Œï¼Œç¬¬ä¸€ä¸ª loader æœ€åæ‰§è¡Œã€‚ç¬¬ä¸€ä¸ªæ‰§è¡Œçš„ loader æ¥æ”¶æºæ–‡ä»¶å†…å®¹ä½œä¸ºå‚æ•°ï¼Œå…¶å®ƒ loader æ¥æ”¶å‰ä¸€ä¸ªæ‰§è¡Œçš„ loader çš„è¿”å›å€¼ä½œä¸ºå‚æ•°ï¼Œæœ€åæ‰§è¡Œçš„ loader ä¼šè¿”å›æ­¤æ¨¡å—çš„ JavaScript æºç ã€‚<br> <strong>æœ¬è´¨</strong>ï¼šå°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸ºåº”ç”¨ç¨‹åºçš„ä¾èµ–å›¾å¯ç›´æ¥å¼•ç”¨çš„æ¨¡å—ã€‚</p> <p><strong><code>plugin</code></strong>:æ‹“å±•<br>
é’ˆå¯¹ loader ç»“æŸåï¼ŒåŸºäºäº‹ä»¶æœºåˆ¶å·¥ä½œï¼Œä¼šç›‘å¬ webpack æ‰“åŒ…è¿‡ç¨‹ä¸­çš„æŸäº›èŠ‚ç‚¹ã€‚
åœ¨ webpack è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼Œplugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ <code>tapable</code> æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœã€‚</p> <p><strong><code>compliation</code></strong>ï¼šåŒ…å«å½“å‰æ¨¡å—èµ„æºï¼Œç¼–è¯‘ç”Ÿæˆèµ„æºï¼Œwebpack å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œæ—¶ï¼Œå½“æ£€æµ‹åˆ°ä»»æ„ä¸€ä¸ªæ–‡ä»¶å˜åŒ–ï¼Œéƒ½ä¼šåˆ›å»ºä¸€æ¬¡æ–°çš„ compliationã€‚</p> <h2 id="æ‰“åŒ…æµç¨‹"><a href="#æ‰“åŒ…æµç¨‹" class="header-anchor">#</a> æ‰“åŒ…æµç¨‹</h2> <ol><li>åˆå§‹åŒ–å‚æ•°ï¼šshell weback.config.js</li> <li>å¼€å§‹ç¼–è¯‘ï¼šï¼ˆå¯åŠ¨ webpackï¼‰ï¼šåˆå§‹åŒ–ä¸€ä¸ª compiler å¯¹è±¡ï¼ŒåŠ è½½é…ç½®ï¼Œå¼€å§‹æ‰§è¡Œç¼–è¯‘<br>
compiler å¯¹è±¡:å…¨å±€å”¯ä¸€ï¼Œæ˜¯ webpack çš„å®ä¾‹ï¼ŒåŒ…å«äº† webpack ç¯å¢ƒçš„æ‰€æœ‰é…ç½®ä¿¡æ¯</li> <li>ç¡®å®šå…¥å£ï¼šæ ¹æ® entry ä¸­çš„é…ç½®ï¼Œæ‰¾å‡ºæ‰€æœ‰å…¥å£æ–‡ä»¶</li> <li>ç¼–è¯‘æ¨¡å—ï¼šä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œè°ƒç”¨æ‰€æœ‰ loaderï¼Œå†é€’å½’æ‰¾ä¾èµ–</li> <li>å®Œæˆæ¨¡å—ç¼–è¯‘ï¼šå¾—åˆ°æ¯ä¸ªæ¨¡å—è¢«ç¿»è¯‘åçš„æœ€ç»ˆå†…å®¹ä»¥åŠä»–ä»¬ä¹‹é—´çš„å…³ç³»ï¼ˆä¾èµ–å›¾ï¼‰</li> <li>è¾“å‡ºèµ„æºï¼šæ ¹æ®ä¾èµ–å…³ç³»ç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ª module çš„ chunk</li> <li>è¾“å‡ºå®Œæˆï¼šæ ¹æ®é…ç½®ï¼Œç¡®å®šè¾“å‡ºçš„æ–‡ä»¶åä»¥åŠè·¯å¾„</li></ol> <h2 id="split-chunks"><a href="#split-chunks" class="header-anchor">#</a> Split Chunks</h2> <p>ä¼˜åŒ–é…ç½®</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">'production'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
               <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token string">'./src/index.js'</span>
                <span class="token literal-property property">other</span><span class="token operator">:</span><span class="token string">'./src/multiply.js'</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
<span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&quot;[name].js&quot;</span>  <span class="token comment">// è¾“å‡ºbundleçš„æ–‡ä»¶å</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>         <span class="token comment">//ä¼˜åŒ–</span>
    <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span><span class="token string">'single'</span><span class="token punctuation">,</span>   <span class="token comment">// å°†æ¨¡å—äº¤äº’æ—¶è¿æ¥æ‰€éœ€çš„åŠ è½½å’Œè§£æé€»è¾‘ææˆä¸€ä¸ªchunk</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">commons</span><span class="token operator">:</span><span class="token punctuation">{</span>       <span class="token comment">// å…¬å…±chunkï¼Œå¦‚æœè¢«è‡³å°‘minChunksä¸ªchunk ç”¨åˆ°äº†ï¼Œå°±å•ç‹¬ææˆä¸€ä¸ªchunk</span>
          <span class="token literal-property property">chunks</span><span class="token operator">:</span><span class="token string">'initial'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">minChunks</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token literal-property property">minSize</span><span class="token operator">:</span><span class="token number">0</span>   <span class="token comment">// è¾¾åˆ°è¯¥å¤§å°æ‰ææˆä¸€ä¸ªchunk</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">vendor</span><span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token comment">// å°†ç¬¬ä¸‰æ–¹åŒ… æ‹†å‡ºä¸€ä¸ªchunk</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>   <span class="token comment">//æ­£åˆ™ åŒ¹é…node_modulesä¸‹çš„æ–‡ä»¶</span>
          <span class="token literal-property property">chunks</span><span class="token operator">:</span><span class="token string">'initial'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'vendor'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">enforce</span><span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å°†å¤–éƒ¨ä¾èµ–æ‰“æˆå•ç‹¬çš„åŒ…æ—¶ï¼Œæ˜¯å¦‚ä½•å¼•å…¥çš„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¼ªä»£ç ï¼Œéšè—äº† moment å’Œ js-cookie çš„ä»£ç ç»†èŠ‚</span>
<span class="token punctuation">(</span>window<span class="token punctuation">[</span><span class="token string">&quot;webpackJsonp&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> window<span class="token punctuation">[</span><span class="token string">&quot;webpackJsonp&quot;</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;async&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;./node_modules/js-cookie/src/js.cookie.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;./node_modules/moment/moment.js&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="tree-shaking"><a href="#tree-shaking" class="header-anchor">#</a> Tree Shaking</h2> <p>ç”¨æ¥ç§»é™¤ JavaScript ä¸Šä¸‹æ–‡ä¸­çš„æœªå¼•ç”¨ä»£ç (dead-code)ï¼Œæ˜¯ DCE çš„ä¸€ç§æ–°å®ç°ï¼Œæ‰€æœ‰å¯¼å…¥æ–‡ä»¶éƒ½ä¼šå—åˆ° tree shaking çš„å½±å“ã€‚<br>
å…¶æ¶ˆé™¤åŸç†ä¾èµ–äº ES6 çš„æ¨¡å—ç‰¹æ€§ï¼ŒES6 æ¨¡å—ä¾èµ–å…³ç³»æ˜¯ç¡®å®šçš„ï¼Œå’Œè¿è¡Œæ—¶çš„çŠ¶æ€æ— å…³ï¼Œå¯ä»¥è¿›è¡Œå¯é çš„é™æ€åˆ†æï¼Œè¿™æ˜¯ tree-shaking çš„åŸºç¡€ã€‚</p> <h3 id="dce"><a href="#dce" class="header-anchor">#</a> DCE</h3> <p>Dead Code Eliminationâ€”â€”æ¶ˆé™¤æ­»ä»£ç <br>
ä¼ ç»Ÿç¼–è¯‘å‹çš„è¯­è¨€ä¸­ï¼Œéƒ½æ˜¯ç”±ç¼–è¯‘å™¨å°† Dead Code ä» ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ä¸­åˆ é™¤ï¼Œjs éœ€è¦å‹ç¼©å·¥å…· uglify åšå¤„ç†ï¼ˆwebpack è‡ªèº«é›†æˆ uglifyï¼‰ã€‚<br>
Dead Code ä¸€èˆ¬å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š<br>
â€¢ ä»£ç ä¸ä¼šè¢«æ‰§è¡Œ
â€¢ ä»£ç æ‰§è¡Œçš„ç»“æœä¸ä¼šè¢«ç”¨åˆ°<br>
â€¢ ä»£ç åªä¼šå½±å“æ­»å˜é‡ï¼ˆåªå†™ä¸è¯»ï¼‰</p> <h3 id="å¦‚ä½•é…ç½®"><a href="#å¦‚ä½•é…ç½®" class="header-anchor">#</a> å¦‚ä½•é…ç½®</h3> <h4 id="æ¡ä»¶"><a href="#æ¡ä»¶" class="header-anchor">#</a> æ¡ä»¶</h4> <ol><li>ES6ï¼Œç”¨æ”¯æŒ tree-shaking çš„æ–¹å¼å†™ä»£ç </li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å…¨éƒ¨å¯¼å…¥ (ä¸æ”¯æŒ tree-shaking)</span>
<span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// å…·åå¯¼å…¥(æ”¯æŒ tree-shaking)</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> debounce <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;lodash&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ç›´æ¥å¯¼å…¥å…·ä½“çš„æ¨¡å— (æ”¯æŒ tree-shaking)</span>
<span class="token keyword">import</span> debounce <span class="token keyword">from</span> <span class="token string">&quot;lodash/lib/debounce&quot;</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>å¤„äºç”Ÿäº§æ¨¡å¼ï¼Œåªæœ‰åœ¨å‹ç¼©ä»£ç çš„æ—¶å€™ä¼š tree-shaking</li></ol> <h4 id="é…ç½®-2"><a href="#é…ç½®-2" class="header-anchor">#</a> é…ç½®</h4> <ol><li>æ ‡è®°æœªå¼•ç”¨ä»£ç  â€”â€” usedExports<br>
é…ç½®<code>optimization</code>é€‰é¡¹çš„<code>usedExports: true</code>
æ‰“åŒ…ç»“æœ js ä¸­æœªå¼•ç”¨çš„ä»£ç ä¼šè¢« unused...æ³¨é‡Šï¼Œ
usedExports ä¾èµ–äº terser å»æ£€æµ‹è¯­å¥ä¸­çš„å‰¯ä½œç”¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>/*#__PURE__*/</code>æ³¨é‡Šæ¥å¸®å¿™ terser æ ‡è®°ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ã€‚å¦‚æœä¸€ä¸ªæ²¡è¢«ä½¿ç”¨çš„å˜é‡å®šä¹‰çš„åˆå§‹å€¼è¢«è®¤ä¸ºæ˜¯æ— å‰¯ä½œç”¨çš„ï¼ˆpureï¼‰ï¼Œå®ƒä¼šè¢«æ ‡è®°ä¸ºæ­»ä»£ç ï¼Œä¸ä¼šè¢«æ‰§è¡Œä¸”ä¼šè¢«å‹ç¼©å·¥å…·æ¸…é™¤æ‰(å½“ <code>optimization.innerGraph</code> è¢«è®¾ç½®æˆ true æ—¶ç”Ÿæ•ˆ)ã€‚</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Base Webpack Config for Tree Shaking</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
 <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">// æ”¯æŒåˆ é™¤æ­»ä»£ç çš„å‹ç¼©å™¨ï¼Œè¯†åˆ«å‡º Webpack æ˜¯å¦‚ä½•æ ‡è®°å®ƒè®¤ä¸ºæ²¡æœ‰è¢«ä½¿ç”¨çš„ä»£ç ï¼Œå¹¶å°†å…¶å‰¥ç¦»ã€‚</span>
   <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// æ‰“åŒ…ç»“æœ</span>
<span class="token comment">/* 1 */</span>
<span class="token comment">/***/</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">/* unused harmony export square */</span>
  <span class="token comment">/* harmony export (immutable) */</span> __webpack_exports__<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> cube<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">cube</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>æ ‡è®° side-effect-free æ–‡ä»¶ â€”â€” sideEffects<br>
é€šè¿‡ package.json çš„ &quot;sideEffects&quot; å±æ€§ï¼Œå£°æ˜è¯¥åŒ…æ¨¡å—æ˜¯å¦åŒ…å« sideEffects(å‰¯ä½œç”¨)ï¼Œå¦‚æœè¢«æ ‡è®°ä¸ºæ— å‰¯ä½œç”¨çš„æ¨¡å—æ²¡æœ‰è¢«ç›´æ¥å¯¼å‡ºä½¿ç”¨ï¼Œæ‰“åŒ…å·¥å…·ä¼šè·³è¿‡è¿›è¡Œæ¨¡å—çš„å‰¯ä½œç”¨åˆ†æè¯„ä¼°ã€‚</li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;your-project&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å¦‚æœæ‰€æœ‰ä»£ç éƒ½ä¸åŒ…å«å‰¯ä½œç”¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®€å•åœ°å°†è¯¥å±æ€§æ ‡è®°ä¸º falseï¼Œæ¥å‘ŠçŸ¥ webpack å®ƒå¯ä»¥å®‰å…¨åœ°åˆ é™¤æœªç”¨åˆ°çš„ exportã€‚</span>
  <span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/some-side-effectful-file.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*.css&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>&quot;side effect(å‰¯ä½œç”¨)&quot;æ˜¯ï¼Œåœ¨å¯¼å…¥æ—¶ä¼šæ‰§è¡Œç‰¹æ®Šè¡Œä¸ºçš„ä»£ç ï¼Œè€Œä¸æ˜¯ä»…ä»…æš´éœ²ä¸€ä¸ª export æˆ–å¤šä¸ª exportã€‚ä¸¾ä¾‹è¯´æ˜ï¼Œä¾‹å¦‚ polyfillï¼Œå®ƒå½±å“å…¨å±€ä½œç”¨åŸŸï¼Œå¹¶ä¸”é€šå¸¸ä¸æä¾› exportã€‚</p></blockquote> <blockquote><p>å‚è€ƒï¼š<br> <a href="https://juejin.cn/post/6844903998634328072" target="_blank" rel="noopener noreferrer">Webpack 4 Tree Shaking ç»ˆæä¼˜åŒ–æŒ‡å—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://webpack.docschina.org/guides/tree-shaking/" target="_blank" rel="noopener noreferrer">Tree Shaking<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h1 id="bundleless"><a href="#bundleless" class="header-anchor">#</a> bundleless</h1> <p>1.æ‹†åˆ† bundle, å¯åˆ©äº http2 å¤šè·¯å¤ç”¨ä»¥åŠæ›´åˆ©äºç¼“å­˜<br>
2.æºä»£ç  no bundle<br>
3.é¢„æ‰“åŒ…ä¾èµ–äº§ç‰© esbuildã€cdn</p> <h1 id="babel"><a href="#babel" class="header-anchor">#</a> Babel</h1> <h2 id="æ‰§è¡Œé¡ºåºé…ç½®"><a href="#æ‰§è¡Œé¡ºåºé…ç½®" class="header-anchor">#</a> æ‰§è¡Œé¡ºåºé…ç½®</h2> <p>js ç¿»è¯‘å™¨ï¼šè§£æã€è½¬æ¢ã€ç”Ÿæˆ<br> <code>preset</code>é¢„è®¾çš„æ’ä»¶åˆé›†ï¼š<br>
ä½ä¸€çº§çš„ stage ä¼šåŒ…å«æ‰€æœ‰é«˜çº§ stage çš„å†…å®¹ï¼Œä¾‹å¦‚ stage-1 ä¼šåŒ…å« stage-2, stage-3 çš„æ‰€æœ‰å†…å®¹ã€‚
æ‰§è¡Œé¡ºåºï¼š<br>
pluginã€presetï¼›<br>
plugin ä»å‰å¾€åæ‰§è¡Œï¼›<br>
preset ä»åå¾€å‰æ‰§è¡Œã€‚ï¼ˆä¸ºäº†å‘åå…¼å®¹ï¼Œç¼–æ’æ—¶éœ€æ³¨æ„è§„èŒƒçš„æ—¶é—´é¡ºåºï¼‰</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token comment">// å¸¦äº†é…ç½®é¡¹ï¼Œè‡ªå·±å˜æˆæ•°ç»„</span>
      <span class="token string">&quot;env&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// ç¬¬äºŒä¸ªå…ƒç´ æ˜¯å¯¹è±¡ï¼Œåˆ—å‡ºé…ç½®é¡¹</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//amd, umd, systemjs, commonjs å’Œ falseã€‚è¿™å¯ä»¥è®© babel ä»¥ç‰¹å®šçš„æ¨¡å—åŒ–æ ¼å¼æ¥è¾“å‡ºä»£ç ã€‚false ä¸è¿›è¡Œæ¨¡å—åŒ–å¤„ç†ã€‚</span>
        <span class="token property">&quot;targets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;browsers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;last 2 versions&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;safari &gt;= 7&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// è€ƒè™‘æ‰€æœ‰æµè§ˆå™¨çš„æœ€æ–°2ä¸ªç‰ˆæœ¬(safariå¤§äºç­‰äº7.0çš„ç‰ˆæœ¬)çš„ç‰¹æ€§</span>
          <span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6.10&quot;</span> <span class="token comment">// å°†ç›®æ ‡è®¾ç½®ä¸º nodejsï¼Œå¹¶ä¸”æ”¯æŒ 6.10 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥node: 'current' æ¥æ”¯æŒæœ€æ–°ç¨³å®šç‰ˆæœ¬</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ä¸å¸¦é…ç½®é¡¹ï¼Œç›´æ¥åˆ—å‡ºåå­—</span>
    <span class="token string">&quot;stage-2&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="å„ç§-babel-åŒ…"><a href="#å„ç§-babel-åŒ…" class="header-anchor">#</a> å„ç§ babel åŒ…</h2> <p><code>babel-cli</code>: devDependenciesï¼Œç¼–è¯‘æ–‡ä»¶ï¼Œé€‚ç”¨äºä¸éœ€è¦æ‰“åŒ…çš„å°å°é¡¹ç›®<br> <code>babel-register</code>: devDependenciesï¼Œå¯¹ require åŠ è½½çš„æ–‡ä»¶è¿›è¡Œè½¬ç <br> <code>babel-polyfill</code>: dependenciesï¼Œå¯¹ç¼ºå¤±çš„æ–¹æ³•ç»™ä¸æ”¯æŒï¼Œç”¨å…¶ä»–æ–¹å¼å®ç°<br>
ç¼ºç‚¹ï¼š</p> <ul><li>ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œåœ¨åŸå‹é“¾ä¸Šæ·»åŠ æ–¹æ³•ï¼Œä½¿ä»£ç å†—ä½™ ï¼ˆæ¨èä½¿ç”¨ core-jsï¼‰</li> <li>æ±¡æŸ“å…¨å±€å˜é‡ï¼ˆæ¨èä½¿ç”¨ babel-plugin-transform-runtimeï¼‰</li></ul> <p><code>babel-node</code>: part of <code>babel-cli</code>ï¼Œç›´æ¥æ‰§è¡Œ jsã€‚ babel-node = babel-polyfill + babel-register<br> <code>babel-plugin-transform-runtime</code>: å°†æ›¿ä»£æ–¹æ³•ä»¥ require çš„æ–¹å¼å¼•å…¥ï¼Œè€Œä¸æ˜¯æ¯æ¬¡æ·»åŠ ã€‚<br> <code>babel-runtime</code>: å†…éƒ¨é›†æˆäº†</p> <ul><li><code>core-js</code>: ç±»æ”¯æŒ</li> <li><code>regenerator</code>: core-js çš„è¡¥ä¸ï¼Œå¦‚è½¬æ¢ generator/yield å’Œ async/await</li> <li><code>helpers</code>: <a href="https://github.com/babel/babel/blob/6.x/packages/babel-helpers/src/helpers.js" target="_blank" rel="noopener noreferrer">babel-helpers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><code>babel-loader</code>: ç”¨äºæ‰“åŒ…æ„å»º</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">8/31/2023, 2:51:12 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1a8c5bfd.js" defer></script><script src="/assets/js/2.dec9ee96.js" defer></script><script src="/assets/js/13.0b29cc16.js" defer></script>
  </body>
</html>
