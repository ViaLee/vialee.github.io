<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javascript | ğŸ’«Viaã®blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/babe.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.795a5f26.css" as="style"><link rel="preload" href="/assets/js/app.1a8c5bfd.js" as="script"><link rel="preload" href="/assets/js/2.dec9ee96.js" as="script"><link rel="preload" href="/assets/js/25.7aa0e1ed.js" as="script"><link rel="prefetch" href="/assets/js/10.8be9e924.js"><link rel="prefetch" href="/assets/js/11.44f5bc5a.js"><link rel="prefetch" href="/assets/js/12.13eb32e8.js"><link rel="prefetch" href="/assets/js/13.0b29cc16.js"><link rel="prefetch" href="/assets/js/14.a078733b.js"><link rel="prefetch" href="/assets/js/15.11a9ccdf.js"><link rel="prefetch" href="/assets/js/16.a2c3d2a9.js"><link rel="prefetch" href="/assets/js/17.980f556f.js"><link rel="prefetch" href="/assets/js/18.cea60c17.js"><link rel="prefetch" href="/assets/js/19.a727f28e.js"><link rel="prefetch" href="/assets/js/20.023d0896.js"><link rel="prefetch" href="/assets/js/21.fbabcbd6.js"><link rel="prefetch" href="/assets/js/22.13927ea0.js"><link rel="prefetch" href="/assets/js/23.a9bc2c2a.js"><link rel="prefetch" href="/assets/js/24.32925ff2.js"><link rel="prefetch" href="/assets/js/26.ca27a143.js"><link rel="prefetch" href="/assets/js/27.8d248508.js"><link rel="prefetch" href="/assets/js/28.6d467f80.js"><link rel="prefetch" href="/assets/js/29.d0462958.js"><link rel="prefetch" href="/assets/js/3.425531bf.js"><link rel="prefetch" href="/assets/js/30.8b05a0c2.js"><link rel="prefetch" href="/assets/js/31.7b9ee93d.js"><link rel="prefetch" href="/assets/js/32.309cfa25.js"><link rel="prefetch" href="/assets/js/33.11c2341a.js"><link rel="prefetch" href="/assets/js/4.c0667068.js"><link rel="prefetch" href="/assets/js/5.cd04caea.js"><link rel="prefetch" href="/assets/js/6.22a02351.js"><link rel="prefetch" href="/assets/js/7.3a87c63c.js"><link rel="prefetch" href="/assets/js/8.7771a382.js"><link rel="prefetch" href="/assets/js/9.167ee458.js">
    <link rel="stylesheet" href="/assets/css/0.styles.795a5f26.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/babe.png" alt="ğŸ’«Viaã®blog" class="logo"> <span class="site-name can-hide">ğŸ’«Viaã®blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ReactğŸŒ´" class="dropdown-title"><span class="title">ReactğŸŒ´</span> <span class="arrow down"></span></button> <button type="button" aria-label="ReactğŸŒ´" class="mobile-dropdown-title"><span class="title">ReactğŸŒ´</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/reactCode.html" class="nav-link">
  åº•å±‚
</a></li><li class="dropdown-item"><!----> <a href="/pages/react.html" class="nav-link">
  å…¶ä»–
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Basic ğŸ³" class="dropdown-title"><span class="title">Basic ğŸ³</span> <span class="arrow down"></span></button> <button type="button" aria-label="Basic ğŸ³" class="mobile-dropdown-title"><span class="title">Basic ğŸ³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/javascript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/pages/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/pages/webpack.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/pages/flutter.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web ğŸŒ" class="dropdown-title"><span class="title">Web ğŸŒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web ğŸŒ" class="mobile-dropdown-title"><span class="title">Web ğŸŒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/http.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/pages/browser.html" class="nav-link">
  æµè§ˆå™¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node â˜ï¸" class="dropdown-title"><span class="title">Node â˜ï¸</span> <span class="arrow down"></span></button> <button type="button" aria-label="Node â˜ï¸" class="mobile-dropdown-title"><span class="title">Node â˜ï¸</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/node.html" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/pages/nest.html" class="nav-link">
  nest
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog âœğŸ»" class="dropdown-title"><span class="title">Blog âœğŸ»</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog âœğŸ»" class="mobile-dropdown-title"><span class="title">Blog âœğŸ»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/log.html" class="nav-link">
  æ—¥å¸¸è®°å½•
</a></li><li class="dropdown-item"><!----> <a href="/pages/blog.html" class="nav-link">
  åšå®¢
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ReactğŸŒ´" class="dropdown-title"><span class="title">ReactğŸŒ´</span> <span class="arrow down"></span></button> <button type="button" aria-label="ReactğŸŒ´" class="mobile-dropdown-title"><span class="title">ReactğŸŒ´</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/reactCode.html" class="nav-link">
  åº•å±‚
</a></li><li class="dropdown-item"><!----> <a href="/pages/react.html" class="nav-link">
  å…¶ä»–
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Basic ğŸ³" class="dropdown-title"><span class="title">Basic ğŸ³</span> <span class="arrow down"></span></button> <button type="button" aria-label="Basic ğŸ³" class="mobile-dropdown-title"><span class="title">Basic ğŸ³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/javascript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/pages/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/pages/webpack.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/pages/flutter.html" class="nav-link">
  Flutter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web ğŸŒ" class="dropdown-title"><span class="title">Web ğŸŒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web ğŸŒ" class="mobile-dropdown-title"><span class="title">Web ğŸŒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/http.html" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/pages/browser.html" class="nav-link">
  æµè§ˆå™¨
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Node â˜ï¸" class="dropdown-title"><span class="title">Node â˜ï¸</span> <span class="arrow down"></span></button> <button type="button" aria-label="Node â˜ï¸" class="mobile-dropdown-title"><span class="title">Node â˜ï¸</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/node.html" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/pages/nest.html" class="nav-link">
  nest
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog âœğŸ»" class="dropdown-title"><span class="title">Blog âœğŸ»</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog âœğŸ»" class="mobile-dropdown-title"><span class="title">Blog âœğŸ»</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/log.html" class="nav-link">
  æ—¥å¸¸è®°å½•
</a></li><li class="dropdown-item"><!----> <a href="/pages/blog.html" class="nav-link">
  åšå®¢
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Javascript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/javascript.html#åŸºç¡€" class="sidebar-link">åŸºç¡€</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/javascript.html#reflect" class="sidebar-link">Reflect</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#script-æ ‡ç­¾" class="sidebar-link">script æ ‡ç­¾</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#æ¨¡å—åŒ–è§„èŒƒ" class="sidebar-link">æ¨¡å—åŒ–è§„èŒƒ</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#é”™è¯¯ç±»å‹" class="sidebar-link">é”™è¯¯ç±»å‹</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#åŸå‹é“¾" class="sidebar-link">åŸå‹é“¾</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#åŸºæœ¬ç±»å‹" class="sidebar-link">åŸºæœ¬ç±»å‹</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#è£…ç®±æ‹†ç®±" class="sidebar-link">è£…ç®±æ‹†ç®±</a></li></ul></li><li><a href="/pages/javascript.html#es6" class="sidebar-link">ES6+</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/javascript.html#ç®­å¤´å‡½æ•°" class="sidebar-link">ç®­å¤´å‡½æ•°</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#å°æ•°å¤„ç†" class="sidebar-link">å°æ•°å¤„ç†</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#å¯é€‰é“¾" class="sidebar-link">å¯é€‰é“¾</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#å’Œ" class="sidebar-link">||å’Œ??</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#for-of" class="sidebar-link">for â€¦ of</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#for-in" class="sidebar-link">for â€¦ in</a></li><li class="sidebar-sub-header"><a href="/pages/javascript.html#promise" class="sidebar-link">Promise</a></li></ul></li><li><a href="/pages/javascript.html#æ•°æ®å¤„ç†" class="sidebar-link">æ•°æ®å¤„ç†</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> Javascript</h1> <h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="header-anchor">#</a> åŸºç¡€</h2> <h3 id="reflect"><a href="#reflect" class="header-anchor">#</a> Reflect</h3> <ul><li><p>Reflect æš´éœ²è¯­è¨€å†…éƒ¨æ–¹æ³•</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è€å†™æ³•</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>floor<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1.75</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token comment">// æ–°å†™æ³•</span>
<span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>floor<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1.75</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div></li> <li><p>æœªå®šä¹‰å±æ€§ï¼Œä¸æŠ¥é”™ï¼Œè¿”å› false</p></li> <li><p>è®© Object å‘½ä»¤å¼æ“ä½œå˜ä¸ºå‡½æ•°è¡Œä¸º</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è€å†™æ³•</span>
<span class="token string">&quot;assign&quot;</span> <span class="token keyword">in</span> Object<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// æ–°å†™æ³•</span>
Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>Object<span class="token punctuation">,</span> <span class="token string">&quot;assign&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div></li> <li><p>ä¿ç•™ Proxy çš„æ‰€æœ‰é»˜è®¤è¡Œä¸º</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> success <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;property &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; on &quot;</span> <span class="token operator">+</span> target <span class="token operator">+</span> <span class="token string">&quot; set to &quot;</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> success<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li></li></ul> <h3 id="script-æ ‡ç­¾"><a href="#script-æ ‡ç­¾" class="header-anchor">#</a> script æ ‡ç­¾</h3> <p>å…­å±æ€§ï¼šasync(å¼‚æ­¥è„šæœ¬) defer(å»¶è¿Ÿè„šæœ¬) src type(MIME ç±»å‹) crossorigin<br>
nomoduleï¼štrue è¡¨ç¤ºè¿™ä¸ªè„šæœ¬åœ¨æ”¯æŒ ES2015 modules çš„æµè§ˆå™¨ä¸­ä¸æ‰§è¡Œï¼Œç”¨æ¥ä¸ºä¸æ”¯æŒ es6 æµè§ˆå™¨æä¾›å›é€€ç‰ˆæœ¬ã€‚<br>
crossoriginï¼šä½¿é‚£äº›å°†é™æ€èµ„æºæ”¾åœ¨å¦å¤–ä¸€ä¸ªåŸŸåçš„ç«™ç‚¹æ‰“å°é”™è¯¯ä¿¡æ¯</p> <h4 id="defer-å’Œ-async"><a href="#defer-å’Œ-async" class="header-anchor">#</a> defer å’Œ async</h4> <p>åŒï¼šéƒ½ä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“
deferï¼šé€šçŸ¥æµè§ˆå™¨è¯¥è„šæœ¬å°†åœ¨æ–‡æ¡£å®Œæˆè§£æ,DOM æ„å»ºå®Œæˆååï¼Œè§¦å‘ DOMContentLoaded äº‹ä»¶å‰æ‰§è¡Œã€‚æœ‰ defer å±æ€§çš„è„šæœ¬ä¼šé˜»æ­¢ DOMContentLoaded äº‹ä»¶ï¼Œç›´åˆ°è„šæœ¬è¢«åŠ è½½å¹¶ä¸”è§£æå®Œæˆã€‚
asyncï¼šæµè§ˆå™¨ä¸ä¼šå›  async è„šæœ¬è€Œé˜»å¡ï¼Œè„šæœ¬åœ¨æ–‡æ¡£ä¸­çš„é¡ºåºä¸é‡è¦ â€”â€” å…ˆåŠ è½½å®Œæˆçš„å…ˆæ‰§è¡Œã€‚</p> <h3 id="æ¨¡å—åŒ–è§„èŒƒ"><a href="#æ¨¡å—åŒ–è§„èŒƒ" class="header-anchor">#</a> æ¨¡å—åŒ–è§„èŒƒ</h3> <h4 id="amd"><a href="#amd" class="header-anchor">#</a> <strong>AMD</strong></h4> <p>å¼‚æ­¥æ¨¡å—ï¼ŒåŠ è½½å®Œæ‰§è¡Œå›è°ƒå‡½æ•°</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// utils.js</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// main.js å…ˆåŠ è½½utils,ç„¶åæ‰§è¡Œadd</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./utils&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">utils</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  utils<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="cmd"><a href="#cmd" class="header-anchor">#</a> <strong>CMD</strong></h4> <p>æŒ‰éœ€åŠ è½½</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./utils&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    utils<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="umd"><a href="#umd" class="header-anchor">#</a> <strong>UMD</strong></h4> <p>å…¼å®¹ AMD å’Œ CMD</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// AMD</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;utils&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// commonjs</span>
    <span class="token keyword">let</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;utils&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>utils<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// éƒ½ä¸æ˜¯</span>
    root<span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>utils<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">utils</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  utils<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> <strong>CommonJS</strong></h4> <p>é¿å…å…¨å±€å˜é‡æ±¡æŸ“ï¼Œç±»ä¼¼äºå‘½åç©ºé—´</p> <ol><li>åŒæ­¥åŠ è½½æ¨¡å—ï¼Œè¿è¡Œæ—¶åŠ è½½</li> <li>æ¯ä¸ª js æ–‡ä»¶æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª module å˜é‡ï¼Œä»£è¡¨å½“å‰æ¨¡å—ã€‚ module.exports</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">+</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
exports<span class="token punctuation">.</span>num <span class="token operator">=</span> num<span class="token punctuation">;</span> <span class="token comment">//exportså³ module.exports;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>add <span class="token operator">=</span> add<span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>åŠ è½½æŸä¸€ä¸ªæ¨¡å—ï¼Œå°±æ˜¯åŠ è½½è¿™ä¸ªæ¨¡å—çš„ module.exports å±æ€§ ,require çš„åŸºæœ¬åŠŸèƒ½æ˜¯è¯»å–å¹¶æ‰§è¡Œ JS æ–‡ä»¶ï¼Œå¦‚æœæ¨¡å—å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¸èƒ½å®šä¹‰åœ¨ exports å¯¹è±¡ä¸Šã€‚<br>
require åŠ è½½æ—¶ï¼Œä¼šæ‰§è¡Œæ¨¡å—ä¸­çš„ä»£ç ï¼Œç„¶åå°†æ¨¡å—çš„ module.exports å±æ€§ä½œä¸ºè¿”å›å€¼è¿›è¡Œè¿”å›ã€‚<br>
require å±æ€§ï¼š</li></ol> <ul><li>resolveï¼šéœ€è¦è§£æçš„æ¨¡å—è·¯å¾„ã€‚</li> <li>mainï¼šModule å¯¹è±¡ï¼Œè¡¨ç¤ºå½“è¿›ç¨‹å¯åŠ¨æ—¶åŠ è½½çš„å…¥å£è„šæœ¬ã€‚</li> <li>extensionsï¼šå¦‚ä½•å¤„ç†æ–‡ä»¶æ‰©å±•åã€‚</li> <li>cacheï¼šè¢«å¼•å…¥çš„æ¨¡å—å°†è¢«ç¼“å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ã€‚<br>
å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å¤šæ¬¡ require åŒä¸€ä¸ªæ¨¡å—æ—¶ï¼ŒCommonJS å¹¶ä¸ä¼šå¤šæ¬¡æ‰§è¡Œè¯¥æ¨¡å—æ–‡ä»¶ï¼›<br>
è€Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ï¼Œå°†æ¨¡å—ç¼“å­˜ï¼›<br>
ä»¥åå†åŠ è½½è¯¥æ¨¡å—æ—¶ï¼Œå°±ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–è¯¥æ¨¡å—.å¯ä»¥é€šè¿‡<code>delete require.cache[modulePath]</code>å°†ç¼“å­˜çš„æ¨¡å—åˆ é™¤ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>require <span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cache</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token string-property property">'D:\\demo\\main.js'</span><span class="token operator">:</span> Module <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">'D:\\demo\\number.js'</span><span class="token operator">:</span> Module <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="ejs"><a href="#ejs" class="header-anchor">#</a> <strong>EJS</strong></h4> <p>import ç¼–è¯‘æ—¶åŠ è½½ï¼Œä¼šä¼˜å…ˆæ‰§è¡Œï¼ˆå˜é‡æå‡ï¼‰ï¼Œæ˜¯å¼•ç”¨ï¼Œæ˜¯åªè¯»å¼•ç”¨ã€‚ä¹Ÿæœ‰ç¼“å­˜ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> utils <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./utils&quot;</span><span class="token punctuation">;</span>
utils<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="header-anchor">#</a> <strong>åŒºåˆ«</strong></h4> <p>é€šè¿‡ä¸Šé¢æˆ‘ä»¬å¯¹ CommonJS è§„èŒƒå’Œ ES6 è§„èŒƒçš„æ¯”è¾ƒï¼Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ä¸¤è€…çš„åŒºåˆ«ï¼š</p> <ul><li>CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£</li> <li>CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„å¤åˆ¶ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨</li> <li>CommonJS åŠ è½½çš„æ˜¯æ•´ä¸ªæ¨¡å—ï¼Œå³å°†æ‰€æœ‰çš„æ–¹æ³•å…¨éƒ¨åŠ è½½è¿›æ¥ï¼ŒES6 å¯ä»¥å•ç‹¬åŠ è½½å…¶ä¸­çš„æŸä¸ªæ–¹æ³•</li> <li>CommonJS ä¸­ this æŒ‡å‘å½“å‰æ¨¡å— module.exportsï¼ŒES6 ä¸­ this æŒ‡å‘ undefined</li> <li>CommonJS é»˜è®¤éä¸¥æ ¼æ¨¡å¼ï¼ŒES6 çš„æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼</li></ul> <h3 id="é”™è¯¯ç±»å‹"><a href="#é”™è¯¯ç±»å‹" class="header-anchor">#</a> é”™è¯¯ç±»å‹</h3> <ol><li>SyntaxError: è¯­æ³•é”™è¯¯</li> <li>ReferenceError: å¼•ç”¨é”™è¯¯ è¦ç”¨çš„ä¸œè¥¿æ²¡æ‰¾åˆ°</li> <li>RangeError: èŒƒå›´é”™è¯¯ ä¸“æŒ‡å‚æ•°è¶…èŒƒå›´</li> <li>TypeError: ç±»å‹é”™è¯¯ é”™è¯¯çš„è°ƒç”¨äº†å¯¹è±¡çš„æ–¹æ³•</li> <li>EvalError: eval()æ–¹æ³•é”™è¯¯çš„ä½¿ç”¨</li> <li>URIError: url åœ°å€é”™è¯¯</li></ol> <h3 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="header-anchor">#</a> åŸå‹é“¾</h3> <p>ä¸ºä»€ä¹ˆè¦æœ‰åŸå‹é“¾ï¼Ÿ<br>
JavaScript é‡‡ç”¨åŸå‹ç¼–ç¨‹ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½èƒ½å…±äº«åŸå‹ä¸Šçš„æ–¹æ³•ï¼ŒèŠ‚çœå†…å­˜;
åŒæ—¶åŸºäºåŸå‹è¿™ä¸€å®ç°æ€æƒ³ï¼ŒJavaScript é€šè¿‡æ‰¾å¯¹åŸå‹é“¾ï¼Œæ–¹ä¾¿åœ°å®ç°äº†ç»§æ‰¿ã€‚</p> <h3 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="header-anchor">#</a> åŸºæœ¬ç±»å‹</h3> <p>typeof åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹<br>
Object.prototype.toString åˆ¤æ–­æŸä¸ªå¯¹è±¡å±äºå“ªç§å†…ç½®ç±»å‹
instanceOf æ£€æµ‹ constructor.prototype æ˜¯å¦å­˜åœ¨äºå‚æ•° object çš„åŸå‹é“¾ä¸Šã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Null]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Undefined]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>â€œabcâ€<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// &quot;[object String]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// &quot;[object Number]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// &quot;[object Boolean]&quot;</span>

<span class="token keyword">function</span> <span class="token function">typeOf</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">typeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment">// 'array'</span>
<span class="token function">typeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token comment">// 'object'</span>
<span class="token function">typeOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span>  <span class="token comment">// 'date'</span>

</code></pre></div><h3 id="è£…ç®±æ‹†ç®±"><a href="#è£…ç®±æ‹†ç®±" class="header-anchor">#</a> è£…ç®±æ‹†ç®±</h3> <h4 id="è£…ç®±"><a href="#è£…ç®±" class="header-anchor">#</a> è£…ç®±</h4> <p>å°†åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¯¹åº”çš„å¼•ç”¨ç±»å‹ã€‚<br>
éšå¼è£…ç®±ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span> <span class="token comment">//éšå¼è£…ç®±</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ‰§è¡Œè¿‡ç¨‹ï¼š</span>
<span class="token comment">// 1. åˆ›å»ºStringç±»å‹çš„ä¸€ä¸ªå®ä¾‹ï¼›  var s1 = new String('call_me_R');</span>
<span class="token comment">// 2. åœ¨å®ä¾‹ä¸­è°ƒç”¨substringæ–¹æ³•  var s2 = s1.substring(2);</span>
<span class="token comment">// 3. é”€æ¯è¯¥å®ä¾‹  s1 = null;</span>
</code></pre></div><p>æ˜¾ç¤ºè£…ç®±ï¼š
é€šè¿‡åŸºæœ¬åŒ…è£…ç±»å‹å¯¹è±¡å¯¹åŸºæœ¬ç±»å‹è¿›è¡Œæ˜¾ç¤ºè£…ç®±ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> objStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;call_me_R&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
objStr<span class="token punctuation">.</span>job <span class="token operator">=</span> <span class="token string">&quot;frontend engineer&quot;</span><span class="token punctuation">;</span>
objStr<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello kitty&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objStr<span class="token punctuation">.</span>job<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// frontend engineer</span>
objStr<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello kitty</span>
<span class="token comment">// åœ¨æ‰§è¡Œæµç¦»å¼€å½“å‰ä½œç”¨åŸŸä¹‹å‰ä¸€ç›´ä¿ç•™åœ¨å†…å­˜ä¸­</span>
</code></pre></div><h4 id="æ‹†ç®±"><a href="#æ‹†ç®±" class="header-anchor">#</a> æ‹†ç®±</h4> <p>æ‹†ç®±æ˜¯æŒ‡æŠŠå¼•ç”¨ç±»å‹è½¬æ¢æˆåŸºæœ¬çš„æ•°æ®ç±»å‹ã€‚é€šå¸¸é€šè¿‡å¼•ç”¨ç±»å‹çš„ valueOf()å’Œ toString()æ–¹æ³•æ¥å®ç°ã€‚<br>
valueOf å’Œ toString è¿”å›å€¼çš„åŒºåˆ«ï¼š
valueOf æŒ‰å€¼çš„ç±»å‹è¿”å›å€¼ï¼›
toString æŒ‰ string ç±»å‹è¿”å›å€¼ã€‚</p> <h2 id="es6"><a href="#es6" class="header-anchor">#</a> ES6+</h2> <ul><li>at
è·å–æ•°ç»„çš„å€’æ•°é¡¹ arr.at(-1)</li> <li>Object.hasOwn()
è‡ªèº«æ˜¯å¦æœ‰è¯¥å±æ€§ã€‚ obj.hasOwnProperty ç¼ºç‚¹ï¼šå¯è¢«è¦†ç›–ï¼›Object.create(null)åˆ›å»ºçš„å¯¹è±¡æ— è¯¥æ–¹æ³•ã€‚</li> <li>æ•°ç»„ååºæŸ¥æ‰¾
findLastï¼ŒfindLastIndex</li></ul> <h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="header-anchor">#</a> ç®­å¤´å‡½æ•°</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
fn<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">//true</span>
fn<span class="token punctuation">.</span>prototype <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">//trueï¼Œå› æ­¤ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°</span>
</code></pre></div><p>ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„ thisï¼Œå®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿ thisï¼›é€šè¿‡ call() æˆ– apply() æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œåªèƒ½ä¼ é€’å‚æ•°ï¼ˆä¸èƒ½ç»‘å®š thisï¼‰ï¼Œä»–ä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼šè¢«å¿½ç•¥ã€‚</p> <h3 id="å°æ•°å¤„ç†"><a href="#å°æ•°å¤„ç†" class="header-anchor">#</a> å°æ•°å¤„ç†</h3> <ul><li>å››èˆäº”å…¥
.toFixed()<br>
Math.round()</li> <li>ä¸å››èˆäº”å…¥
~~ å°†åé¢çš„å­—ç¬¦è½¬æ¢æˆ Int ç±»å‹</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">~</span><span class="token operator">~</span><span class="token string">&quot;1.51&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><h3 id="å¯é€‰é“¾"><a href="#å¯é€‰é“¾" class="header-anchor">#</a> å¯é€‰é“¾</h3> <p>?. çŸ­è·¯è¿”å›å€¼æ˜¯ undefined</p> <div class="language-js extra-class"><pre class="language-js"><code>obj<span class="token operator">?.</span>prop<span class="token punctuation">;</span>
obj<span class="token operator">?.</span><span class="token punctuation">[</span>expr<span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token operator">?.</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
func<span class="token operator">?.</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å’Œ"><a href="#å’Œ" class="header-anchor">#</a> ||å’Œ??</h3> <p>?? å‰é¢æ˜¯ nullã€undefined å–åé¢çš„</p> <p>|| å‰é¢å€¼è½¬æˆå¸ƒå°”ç±»å‹æ˜¯ false å–åé¢çš„</p> <h3 id="for-of"><a href="#for-of" class="header-anchor">#</a> for â€¦ of</h3> <p>éå†å¯è¿­ä»£å¯¹è±¡çš„å€¼ï¼ˆArrayï¼ŒMapï¼ŒSetï¼ŒStringï¼ŒTypedArrayï¼Œargumentsï¼Œdom é›†åˆï¼Œ<a href="#%E7%94%9F%E6%88%90%E5%99%A8">ç”Ÿæˆå™¨</a>ç­‰ï¼‰ï¼Œå¯ä»¥ç”± breakï¼Œthrowï¼Œcontinue æˆ– return ç»ˆæ­¢</p> <p>å¯è¿­ä»£å¯¹è±¡ï¼šè¯¥å¯¹è±¡ï¼ˆæˆ–è€…å®ƒåŸå‹é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡ï¼‰å¿…é¡»æœ‰ä¸€ä¸ªé”®ä¸º @@iterator çš„å±æ€§(@@è¡¨ç¤º Symbol)ï¼Œå¯é€šè¿‡å¸¸é‡ Symbol.iterator è®¿é—®è¯¥å±æ€§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;str&quot;</span><span class="token punctuation">;</span>
str<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›Iterator å¯¹è±¡</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
</code></pre></div><h3 id="for-in"><a href="#for-in" class="header-anchor">#</a> for â€¦ in</h3> <p>éå†å¯¹è±¡çš„æ‰€æœ‰é™¤ Symbol ä»¥å¤–çš„å¯æšä¸¾å±æ€§çš„ keyï¼ŒåŒ…æ‹¬ç»§æ‰¿çš„å¯æšä¸¾å±æ€§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä»…éå†è‡ªæœ‰å±æ€§</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> prop <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">obj.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h3> <h4 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="header-anchor">#</a> ç”¨æ³•</h4> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;success1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;success2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç»“æœï¼š</span>
<span class="token comment">// error1</span>
<span class="token comment">// success2</span>

Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;success1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;success2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç»“æœï¼š</span>
<span class="token comment">// error</span>
<span class="token comment">// success2</span>
</code></pre></div> <h2 id="æ•°æ®å¤„ç†"><a href="#æ•°æ®å¤„ç†" class="header-anchor">#</a> æ•°æ®å¤„ç†</h2> <p>åˆå§‹åŒ–æ•°ç»„</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>   <span class="token comment">//[empty*3]</span>
<span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>   <span class="token comment">//['','','']</span>
<span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span>ï¼Œ<span class="token number">2</span><span class="token punctuation">)</span>   <span class="token comment">//[1ï¼Œ2]</span>
</code></pre></div><p>[empty*3] ç¨€ç–æ•°ç»„ï¼Œæœ‰é¢„ç•™é•¿åº¦ä¸º 3ï¼Œä½†å®é™…æ˜¯ç©ºçš„ï¼Œæ— æ³•éå†</p> <p>æ•°ç»„å»é™¤ç©ºå€¼</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  [1, 2, 11, '12']</span>
</code></pre></div><p>æ•°ç»„å»é‡ ES5</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> res <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¯¹è±¡æ•°ç»„æ ¹æ®æŸä¸€å±æ€§å»é‡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> amap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
data <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>amap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> amap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">8/3/2023, 5:47:49 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1a8c5bfd.js" defer></script><script src="/assets/js/2.dec9ee96.js" defer></script><script src="/assets/js/25.7aa0e1ed.js" defer></script>
  </body>
</html>
